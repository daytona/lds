{{#with mainNav}}
<div class="{{prefix}}MainNavigation" data-controller="MainNavigation">
  {{#if this.items}}
    {{> navList listlevel="1"}}
  {{/if}}
</div>
{{/with}}

{{#*inline "navList"}}
<ul class="{{prefix}}MainNavigation-list {{prefix}}MainNavigation-list--level{{listlevel}}" id="navlist{{listid}}"{{#if hidden}} aria-hidden="true"{{/if}}>
  {{#each this.items}}
    {{> navListItem listid=(uid) listlevel=../listlevel}}
  {{/each}}
</ul>
{{/inline}}

{{#*inline "navListItem"}}
  <li class="{{prefix}}MainNavigation-item{{#if this.items}} {{prefix}}MainNavigation-item--withChildren{{/if}}">
    <a class="{{prefix}}MainNavigation-link {{prefix}}MainNavigation-link--level{{listlevel}}{{#if this.items}} {{prefix}}MainNavigation-link--withChildren{{/if}}" href="{{url}}">{{{name}}}</a>
    {{#if this.items}}
      <button class="{{prefix}}MainNavigation-toggler icon icon--info js-toggleList" role="button" aria-controls="navlist{{listid}}" aria-pressed="{{equals name @root.category}}" data-controller="Toggler" data-target="#navlist{{listid}}"></button>
      {{> navList listlevel=(increment listlevel) hidden=(equals false (equals name @root.category))}}
    {{/if}}
  </li>
{{/inline}}
