<div class="CodeEditor" data-controller="CodeEditor"{{#if language}} data-language="{{language}}"{{/if}} data-file="{{{file}}}">
  <form class="CodeEditor-form js-form" action="/api{{@component.id}}" method="post">
    <input type="hidden" name="method" value="put">
    <input type="hidden" name="filename" value="{{{file}}}">
    <textarea class="CodeEditor-textarea js-textarea" name="filecontent">{{code}}</textarea>
    <code class="CodeEditor-code" aria-hidden="true"><pre class="CodeEditor-pre code{{#if language}} language-{{language}}{{/if}} js-editor">{{code}}</pre></code>
    <pre class="CodeEditor-caret js-caret" aria-hidden="true"></pre>

    {{#if (getProperty @component.revisions file)}}
      <select class="CodeEditor-revisionPicker js-revisions">
        <option value="{{code}}">Current version</option>
        {{#each (getProperty @component.revisions file)}}
          <option value="{{this}}">{{dateString @key}}</option>
        {{/each}}
      </select>
    {{/if}}
    <button type="submit" disabled class="CodeEditor-submit js-submit">Spara</button>
  </form>
</div>
